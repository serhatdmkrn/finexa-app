import{r as o,c as w,a,w as m,d as u,v as p,t as b,u as y,o as k,e as n,f as _}from"./index-D-X0lIMx.js";const g={class:"reset-password-container"},z={class:"reset-password-box"},h=["disabled"],P=["disabled"],x=["disabled"],A=["disabled"],V={__name:"Account",setup(M){const v=y(),l=o(""),r=o(""),d=o(""),s=o(!1);function f(i){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&._-])[A-Za-z\d@$!%*?&._-]{8,}$/.test(i)}async function c(){if(r.value!==d.value){n.error("Yeni Şifreler eşleşmiyor!");return}if(!f(r.value)){n.warning("Şifreniz en az 8 karakter, büyük/küçük harf, rakam ve özel karakter içermelidir!");return}s.value=!0;const i=await _.post("/api/auth/change-password",JSON.stringify({currentPassword:l.value,newPassword:r.value})),e=await i.data;i.status==200?(n.success("Şifre değişikliği başarılı! Anasayfaya Yönlendiriliyorsunuz..."),setTimeout(()=>{v.push("/")},3e3)):n.error(e.message||"Şifre değişikliği başarısız!"),s.value=!1}return(i,e)=>(k(),w("div",g,[a("div",z,[e[3]||(e[3]=a("h2",null,"Hesabım",-1)),e[4]||(e[4]=a("p",null,"Mevcut şifrenizi ve yeni şifrenizi girin:",-1)),a("form",{onSubmit:m(c,["prevent"])},[u(a("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),placeholder:"Mevcut Şifre",disabled:s.value,required:""},null,8,h),[[p,l.value]]),u(a("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),placeholder:"Yeni Şifre",disabled:s.value,required:""},null,8,P),[[p,r.value]]),u(a("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),placeholder:"Yeni Şifre (Tekrar)",disabled:s.value,required:""},null,8,x),[[p,d.value]]),a("button",{type:"submit",disabled:s.value},b(s.value?"Değiştiriliyor...":"Şifreyi Güncelle"),9,A)],32)])]))}};export{V as default};
