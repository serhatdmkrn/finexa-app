import{r as o,c as w,a as s,w as m,d as u,v as p,t as b,u as y,o as k,e as l,f as _}from"./index-rBktcT7x.js";const g={class:"reset-password-container"},z={class:"reset-password-box"},h=["disabled"],P=["disabled"],x=["disabled"],A=["disabled"],V={__name:"Account",setup(M){const f=y(),n=o(""),i=o(""),d=o(""),r=o(!1);function v(a){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&._-])[A-Za-z\d@$!%*?&._-]{8,}$/.test(a)}async function c(){if(i.value!==d.value){l.error("Yeni Şifreler eşleşmiyor!");return}if(!v(i.value)){l.warning("Şifreniz en az 8 karakter, büyük/küçük harf, rakam ve özel karakter içermelidir!");return}r.value=!0;const a=await _.post("/api/auth/change-password",JSON.stringify({currentPassword:n.value,newPassword:i.value})),e=await(a==null?void 0:a.data);(a==null?void 0:a.status)==200?(l.success("Şifre değişikliği başarılı! Anasayfaya Yönlendiriliyorsunuz..."),setTimeout(()=>{f.push("/")},3e3)):e&&l.error(e.message||"Şifre değişikliği başarısız!"),r.value=!1}return(a,e)=>(k(),w("div",g,[s("div",z,[e[3]||(e[3]=s("h2",null,"Hesabım",-1)),e[4]||(e[4]=s("p",null,"Mevcut şifrenizi ve yeni şifrenizi girin:",-1)),s("form",{onSubmit:m(c,["prevent"])},[u(s("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),placeholder:"Mevcut Şifre",disabled:r.value,required:""},null,8,h),[[p,n.value]]),u(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),placeholder:"Yeni Şifre",disabled:r.value,required:""},null,8,P),[[p,i.value]]),u(s("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),placeholder:"Yeni Şifre (Tekrar)",disabled:r.value,required:""},null,8,x),[[p,d.value]]),s("button",{type:"submit",disabled:r.value},b(r.value?"Değiştiriliyor...":"Şifreyi Güncelle"),9,A)],32)])]))}};export{V as default};
