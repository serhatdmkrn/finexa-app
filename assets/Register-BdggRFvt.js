import{r as s,c as A,a,w as y,d,v as p,t as K,h as c,u as N,o as x,e as i,f as V}from"./index-Da1pehmK.js";const S={class:"register-container"},T={class:"register-card"},U=["disabled"],q={class:"terms"},$={class:"login-link"},E={__name:"Register",setup(B){const n=s(""),o=s(""),u=s(""),l=s(""),v=s(""),m=s(!1),f=N();function g(t){return/^[a-zA-ZçÇğĞıİöÖşŞüÜ\s-]+$/.test(t)}function k(t){return/^[^\s@]+@[a-zA-Z]+\.(com|net|org|edu|gov|mil|co|io|info|biz|me|us|tr)$/i.test(t)}function w(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&._-])[A-Za-z\d@$!%*?&._-]{8,}$/.test(t)}async function z(){if(!n.value||!o.value||!u.value||!l.value||!v.value){i.warning("Lütfen tüm alanları doldurun!");return}if(!g(n.value)||!g(o.value)){i.warning("Ad ve Soyad sadece harf içermelidir!");return}if(!k(u.value)){i.warning("Geçerli bir e-posta adresi girin!");return}if(!w(l.value)){i.warning("Şifreniz en az 8 karakter, büyük/küçük harf, rakam ve özel karakter içermelidir!");return}if(l.value!==v.value){i.warning("Şifreler eşleşmiyor!");return}m.value=!0;try{const t=await V.post("/api/auth/register",JSON.stringify({firstName:n.value,lastName:o.value,email:u.value,password:l.value})),e=await t.data;t.status==200?(i.success("Kayıt başarılı! Giriş sayfasına yönlendiriliyorsunuz..."),setTimeout(()=>{f.push("/login")},2500)):i.error(e.message||"Kayıt başarısız!")}catch(t){i.error(t.response.data.message||"Bir hata oluştu!")}finally{m.value=!1}}function b(){f.push("/login")}function h(){f.push("/kvkk")}return(t,e)=>(x(),A("div",S,[a("div",T,[e[7]||(e[7]=a("h2",null,"Kayıt Ol",-1)),e[8]||(e[8]=a("p",null,"Aramıza hoş geldiniz!",-1)),a("form",{onSubmit:y(z,["prevent"])},[d(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),placeholder:"Adınız",required:""},null,512),[[p,n.value,void 0,{trim:!0}]]),d(a("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>o.value=r),placeholder:"Soyadınız",required:""},null,512),[[p,o.value,void 0,{trim:!0}]]),d(a("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=r=>u.value=r),placeholder:"E-Posta",required:""},null,512),[[p,u.value,void 0,{trim:!0}]]),d(a("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=r=>l.value=r),placeholder:"Şifre",required:""},null,512),[[p,l.value]]),d(a("input",{type:"password","onUpdate:modelValue":e[4]||(e[4]=r=>v.value=r),placeholder:"Şifre Tekrarı",required:""},null,512),[[p,v.value]]),a("button",{type:"submit",disabled:m.value},K(m.value?"🔄 Kayıt yapılıyor...":"Kayıt Ol"),9,U)],32),a("div",q,[e[5]||(e[5]=c(" Kayıt olarak ")),a("a",{href:"#",onClick:y(h,["prevent"])},"Şartlar ve Koşulları"),e[6]||(e[6]=c(" kabul ediyorum. "))]),a("div",$,[a("a",{href:"#",onClick:y(b,["prevent"])},"Giriş Yap")])])]))}};export{E as default};
